"use strict";function previewImage(){var t=new FileReader;t.readAsDataURL(document.getElementById("img").files[0]),t.onload=function(t){document.getElementById("img-prev").src=t.target.result}}$(function(){$("#cancel").click(function(){swal({title:"¿Estás Seguro?",text:"¡No se guardarán los cambios realizados!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(function(t){t.value&&(window.location.href="/cpanel/products")})})}),$("#form").bind("submit",function(){var t=new FormData(this);return $.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:t,contentType:!1,cache:!1,processData:!1,beforeSend:function(){swal({text:"Registrando Producto",timer:3e3,onOpen:function(){swal.showLoading()}})},success:function(t){"true"===t?swal({title:"Producto Registrado",text:"",type:"success",confirmButtonColor:"#E19D9D",confirmButtonText:"Aceptar"}).then(function(t){t.value&&(window.location.href="/admin/products")}):"img-size"===t?swal({title:"Imagen",text:"El peso de la imagen supera los 500kb",type:"error",confirmButtonColor:"#E19D9D",confirmButtonText:"Aceptar"}):"img-ext"===t?swal({title:"Imagen",text:"Solo se permiten exteniones png o jpg",type:"error",confirmButtonColor:"#E19D9D",confirmButtonText:"Aceptar"}):"false"===t&&swal({title:"Error al crear nuevo producto",text:"",type:"error",confirmButtonColor:"#E19D9D",confirmButtonText:"Aceptar"})},error:function(){swal({title:"No se puede crear un nuevo producto",text:"",type:"error",confirmButtonColor:"#E19D9D",confirmButtonText:"Aceptar"})}}),!1});